# 快速入门指南

> **学习目标**：完成本指南后，你将能够在15分钟内生成第一个AI短剧作品。
> 
> **前置知识**：无需任何AI工具使用经验，本指南为零门槛设计。
> 
> **难度等级**：⭐（入门教程）
> 
> **预计学习时间**：15-30分钟

---

## 概述

### 什么是火宝短剧

火宝短剧是一款基于人工智能的短剧生成平台，能够自动化完成从**剧本创作**、**角色设计**、**分镜制作**到**视频生成**的完整工作流程。平台利用大语言模型（LLM）理解剧本内容，提取角色形象和场景描述，再通过扩散模型生成高质量的视觉素材，最终使用视频合成技术将静态图片转化为动态视频。

使用火宝短剧，创作者只需提供一个**故事创意**或**剧本大纲**，平台就能自动生成完整的短剧。这种端到端的自动化能力大大降低了短剧制作的技术门槛和成本，让创作者能够专注于故事本身，而不是繁琐的技术细节。平台的核心理念是"让AI帮助我们做更多创造性的事情"，通过AI技术释放人类创作者的创造力。

### 核心功能特性

| 功能模块 | 功能描述 | 典型使用场景 |
|----------|----------|--------------|
| 剧本生成 | 根据创意生成完整剧本，包含场景描述、对白、动作指导 | 快速构思故事 |
| 角色设计 | AI生成角色肖像，支持多种风格定制 | 创建角色库 |
| 分镜制作 | 自动将剧本转化为分镜图像，包含多种镜头类型 | 视觉化剧本 |
| 视频生成 | 将分镜图片合成为带运镜效果的短视频 | 生成成片 |

### 技术架构概览

火宝短剧采用**前后端分离**的现代化架构。后端基于Go语言开发，使用Gin框架提供RESTful API服务，采用领域驱动设计（DDD）组织代码结构。前端使用Vue 3框架，配合Element Plus组件库和TailwindCSS样式框架，提供流畅的用户交互体验。数据存储采用轻量级的SQLite数据库，文件存储支持本地和云端两种模式。

平台支持多种AI服务提供商，包括OpenAI、DeepSeek、豆包等，用户可以根据需求灵活选择。AI服务通过统一的抽象接口接入，便于扩展新的服务提供商。这种设计让平台具有很好的可扩展性，能够快速适应不同地区和用户的需求。

---

## 环境准备

### 系统要求

在开始使用火宝短剧之前，请确保你的开发环境满足以下要求。这些要求同时适用于**本地开发环境**和**生产部署环境**，不过开发环境的配置可以适当放宽。正确的环境准备是后续操作顺利进行的保障，建议严格按照要求完成配置。

| 软件组件 | 最低版本 | 推荐版本 | 说明 |
|----------|----------|----------|------|
| Go | 1.21 | 1.23+ | 后端运行时环境 |
| Node.js | 18 | 20 LTS | 前端构建环境 |
| npm | 9 | 10+ | 包管理器 |
| FFmpeg | 4.0 | 6.0+ | 视频处理引擎（必需） |
| SQLite | 3.0 | 3.40+ | 数据库（内置） |

**重要提示**：FFmpeg是平台的必需组件，缺少它将无法完成视频生成功能。请务必在继续之前完成FFmpeg的安装和验证。FFmpeg负责处理所有视频相关的操作，包括格式转换、分辨率调整、音频合成等核心功能。

### FFmpeg安装验证

FFmpeg的安装因操作系统而异，以下是各平台的详细安装步骤。请在完成安装后，按照验证步骤确认FFmpeg正常工作。

**macOS平台**：

macOS用户推荐使用Homebrew包管理器安装FFmpeg。如果尚未安装Homebrew，请先访问[Homebrew官网](https://brew.sh)完成安装。安装Homebrew后，在终端中执行以下命令即可完成FFmpeg的安装：

```bash
# 安装FFmpeg
brew install ffmpeg

# 验证安装版本
ffmpeg -version

# 预期输出示例
ffmpeg version 6.1.1 Copyright (c) 2023 FFmpeg project
configuration: ...
libavutil      56. 31.100 / 56. 31.100
libavcodec     58. 54.100 / 58. 54.100
libavformat    58. 29.100 / 58. 29.100
libavfilter     7. 57.100 /  7. 57.100
libavdevice    58.  8.100 / 58.  8.100
libavutil      56. 31.100 / 56. 31.100
libavcodec     58. 54.100 / 58. 54.100
libavformat    58. 29.100 / 58. 29.100
```

如果命令执行后显示了版本信息，说明FFmpeg安装成功。如果出现"command not found"错误，说明安装未成功，请检查Homebrew是否正确安装或尝试重新安装FFmpeg。

**Linux平台（Ubuntu/Debian）**：

Ubuntu和Debian用户可以使用apt包管理器安装FFmpeg。推荐使用国内镜像源以加速下载过程，特别是对于网络条件不稳定的用户。执行以下命令完成安装：

```bash
# 更新软件包列表
sudo apt update

# 安装FFmpeg（使用镜像源）
sudo apt install ffmpeg

# 验证安装
ffmpeg -version
```

对于国内用户，如果遇到下载速度慢的问题，可以配置apt使用国内镜像源。常用的国内镜像包括阿里云镜像、清华大学镜像等。配置镜像源后，重复上述安装命令即可。

**Windows平台**：

Windows用户需要从FFmpeg官网下载预编译的二进制文件，或者使用包管理器如Chocolatey或Scoop安装。推荐使用Scoop，因为它能够自动配置环境变量，简化安装过程：

```powershell
# 安装Scoop（如果尚未安装）
Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
irm get.scoop.sh | iex

# 安装FFmpeg
scoop install ffmpeg

# 验证安装
ffmpeg -version
```

安装完成后，请务必将FFmpeg添加到系统环境变量PATH中（如果安装程序未自动添加）。验证方法是打开新的命令提示符窗口，执行`ffmpeg -version`命令，如果显示版本信息则表示配置正确。

### AI服务配置

火宝短剧需要连接AI服务来完成剧本生成、图像生成等核心功能。平台支持多种AI服务提供商，你可以根据所在地区和使用习惯选择合适的服务。目前支持的AI服务提供商包括：

| 服务提供商 | 主要优势 | 适用场景 | 获取地址 |
|------------|----------|----------|----------|
| OpenAI | 模型能力强，全球通用 | 高质量生成需求 | platform.openai.com |
| DeepSeek | 中文能力强，性价比高 | 中文内容创作 | platform.deepseek.com |
| 豆包 | 国内访问稳定 | 国内用户首选 | doubao.com |

配置AI服务的步骤如下：

1. 访问所选AI服务提供商的官网，注册账号并获取API Key
2. 登录火宝短剧平台（首次使用需要先完成平台部署）
3. 进入**系统设置**→**AI服务配置**页面
4. 填入API Key和基础URL（Base URL）
5. 选择默认的文本生成服务、图像生成服务和视频生成服务
6. 保存配置后，平台即可使用配置的AI服务

**重要安全提示**：API Key是访问AI服务的凭证，具有与密码同等的重要性。请勿将API Key泄露给他人或上传到公开的代码仓库。建议定期更换API Key，并启用服务提供商提供的使用限额保护功能。

---

## 平台部署

### 方式一：Docker部署（推荐）

对于大多数用户，我们推荐使用Docker进行部署。Docker容器化技术能够确保运行环境的一致性，简化依赖安装过程，大大降低部署难度。即使你对Linux系统不熟悉，也能够按照以下步骤顺利完成部署。

Docker部署的核心优势在于**环境隔离**和**一致性**。所有必要的依赖（包括Go运行时、Node.js构建环境、FFmpeg等）都打包在Docker镜像中，与宿主机环境完全隔离。这意味着你不需要在宿主机上安装这些依赖，也不会遇到版本冲突的问题。

**步骤1：准备部署环境**

确保你的服务器已安装Docker和Docker Compose。验证安装的命令如下：

```bash
# 验证Docker安装
docker --version
# 预期输出：Docker version 24.0.7 或更高版本

# 验证Docker Compose安装
docker compose version
# 预期输出：Docker Compose version 2.21.0 或更高版本
```

如果命令未返回预期输出，请参考[Docker官方文档](https://docs.docker.com/engine/install/)完成安装。

**步骤2：下载项目代码**

```bash
# 克隆项目到本地
git clone https://github.com/chatfire-AI/huobao-drama.git

# 进入项目目录
cd huobao-drama
```

**步骤3：配置环境变量**

项目提供了`.env.example`配置文件作为配置模板。对于国内用户，建议启用镜像加速配置以提高构建速度：

```bash
# 复制配置文件
cp .env.example .env

# 编辑配置文件（根据需要修改）
vim .env
```

关键的配置项说明如下：

```bash
# Docker镜像加速（国内用户推荐启用）
DOCKER_REGISTRY=docker.1ms.run/

# npm镜像（加速前端依赖下载）
NPM_REGISTRY=https://registry.npmmirror.com/

# Go模块代理（加速Go依赖下载）
GO_PROXY=https://goproxy.cn,direct
```

**步骤4：启动服务**

```bash
# 构建并启动所有服务（首次启动会自动构建镜像）
docker compose up -d

# 查看服务状态
docker compose ps

# 预期输出状态
NAME                 STATUS
huobao-drama-app-1   Up (healthy)
```

服务启动后，可以通过浏览器访问`http://localhost:5678`进入平台。如果一切正常，你应该能够看到火宝短剧的用户界面。

**步骤5：验证部署成功**

打开浏览器访问`http://localhost:5678`，你应该能看到火宝短剧的主界面。如果页面加载缓慢或出现错误，请查看容器日志排查问题：

```bash
# 查看应用日志
docker compose logs -f app

# 常见问题排查：
# 1. 端口冲突：确保5678端口未被其他程序占用
# 2. 权限问题：检查data目录的读写权限
# 3. 内存不足：Docker容器至少需要4GB可用内存
```

### 方式二：本地开发部署

如果你希望进行二次开发或在本地进行测试，可以按照以下步骤部署开发环境。开发环境支持热重载，代码修改后能够立即生效。

**步骤1：安装Go依赖**

```bash
# 下载所有Go模块依赖
go mod download

# 验证依赖安装成功
go list -m all | head -20
```

**步骤2：安装前端依赖**

```bash
# 进入前端目录
cd web

# 安装npm依赖
npm install

# 验证依赖安装
npm list --depth=0 | head -10
```

**步骤3：启动后端服务**

```bash
# 在项目根目录执行
go run main.go

# 预期输出
[GIN-debug] Listening and serving HTTP on 0.0.0.0:5678
```

**步骤4：启动前端开发服务器（新终端窗口）**

```bash
# 进入前端目录
cd web

# 启动开发服务器
npm run dev

# 预期输出
VITE v5.0.0  ready in 1200 ms

➜  Local:   http://localhost:3012/
➜  Network: http://192.168.x.x:3012/
```

**步骤5：访问平台**

- 前端开发环境：`http://localhost:3012`
- 后端API服务：`http://localhost:5678`

前端开发服务器会自动将API请求代理到后端服务，因此你只需要访问前端地址即可使用完整功能。

---

## 第一个短剧项目

### 创建项目

完成环境准备和平台部署后，让我们开始创建第一个AI短剧项目。本节将引导你完成从项目创建到视频生成的完整流程，帮助你快速体验火宝短剧的核心功能。

**步骤1：创建新项目**

1. 登录火宝短剧平台
2. 点击主界面左上角的**新建项目**按钮
3. 在弹出的对话框中输入项目名称，例如"我的第一个短剧"
4. 选择项目类型（默认选择即可）
5. 点击**创建**按钮完成项目创建

项目创建后，你将看到项目详情页面，包含剧本编辑区、角色库、分镜列表和预览窗口等主要功能区域。每个功能区域都支持展开和折叠，你可以根据自己的工作习惯调整布局。

**步骤2：编写或生成剧本**

剧本是短剧的核心，火宝短剧提供了两种创建剧本的方式：**手动输入**和**AI辅助生成**。对于首次使用的用户，我们推荐先尝试AI辅助生成，了解平台的生成能力后再进行手动调整。

**AI辅助生成剧本**：

1. 在剧本编辑区，点击**AI生成**按钮
2. 在弹出的对话框中，输入你的故事创意，例如："一个关于友情和成长的青春故事，主角是小明和他的好朋友"
3. 选择剧本风格（可选）：浪漫喜剧、悬疑推理、热血励志等
4. 点击**生成**按钮，等待AI生成剧本

AI生成通常需要30秒到2分钟不等，具体时间取决于所选AI服务的响应速度和故事复杂度。生成过程中，界面会显示进度提示，请耐心等待。生成完成后，剧本将自动填充到编辑区，你可以进行修改或补充。

**手动输入剧本**：

如果你已有完整的剧本，可以直接将其粘贴到剧本编辑区。剧本格式支持简单的文本格式，每句话作为一段落即可。剧本内容应该包含场景描述、角色对白和动作指导，以便AI能够准确理解故事内容。

**剧本格式示例**：

```markdown
场景一：学校教室（内，日）

小明走进教室，看到好朋友小红正在整理书包。

小红（惊讶）：小明，你怎么这么早？今天不是周末吗？

小明（笑）：我睡不着，早点来学校复习。你呢？

小红：我也睡不着，脑海里全是明天比赛的事。
```

### 创建角色

剧本创建完成后，接下来需要为故事中的角色创建形象。火宝短剧的AI角色生成功能能够根据剧本中的角色描述自动生成角色肖像，你也可以手动上传角色图片。

**步骤1：进入角色管理页面**

在项目详情页面，点击顶部的**角色**标签，进入角色管理页面。

**步骤2：创建新角色**

1. 点击**添加角色**按钮
2. 在弹出的角色编辑窗口中，填写角色基本信息：
   - 角色名称：必填项，用于标识角色
   - 角色描述：详细描述角色的外貌特征、性格特点
   - 年龄范围：选择或输入角色的大致年龄
   - 性别：选择角色的性别
   - 服装风格：描述角色的穿着风格（可选）

3. 点击**生成图像**按钮，AI将根据你的描述生成角色肖像
4. 预览生成的角色图像，如果不满意可以点击**重新生成**
5. 满意后，点击**保存**按钮保存角色

**角色描述技巧**：详细的角色描述能够获得更好的生成效果。建议包含以下信息：
- 面部特征：脸型、眼睛、发型等
- 服装穿着：颜色、款式、配饰等
- 整体气质：活泼开朗、沉稳内敛等
- 时代背景：现代、古装、未来等

**示例角色描述**：

```
角色名称：小红
角色描述：17岁高中女生，短发，戴着圆框眼镜，喜欢穿淡蓝色的校服外套。
性格开朗活泼，总是带着微笑，给人一种温暖亲切的感觉。
```

### 生成分镜

分镜是连接剧本和视频的关键环节。火宝短剧能够自动将剧本解析为一系列分镜，每个分镜包含场景描述、镜头类型、画面构图等信息。

**步骤1：进入分镜管理页面**

在项目详情页面，点击顶部的**分镜**标签，进入分镜管理页面。

**步骤2：AI自动生成分镜**

1. 点击**AI生成分镜**按钮
2. 确认剧本内容已准备好（建议先保存剧本）
3. 点击**开始生成**

AI生成分镜的过程会解析剧本中的每个场景，根据场景内容自动选择合适的镜头类型（如特写、中景、全景等），并生成画面提示词用于后续的图像生成。这个过程通常需要1-3分钟。

**步骤3：调整和优化分镜**

分镜生成后，你可以对每个分镜进行自定义调整：

1. **场景描述**：AI生成的场景描述可能需要根据你的具体需求进行调整
2. **镜头类型**：可选择特写、近景、中景、全景、俯拍、仰拍等
3. **画面构图**：描述画面中元素的位置和比例关系
4. **角色分配**：为每个分镜指定出现的角色

**分镜调整技巧**：

| 镜头类型 | 使用场景 | 视觉效果 |
|----------|----------|----------|
| 特写（Close-up） | 强调角色表情、情感表达 | 聚焦主体，拉近观众距离 |
| 中景（Medium Shot） | 对话场景、日常动作 | 展示角色身体语言 |
| 全景（Wide Shot） | 环境交代、气氛营造 | 展示场景全貌 |
| 俯拍（High Angle） | 俯视效果、场景概览 | 营造压迫感或展示全局 |
| 仰拍（Low Angle） | 仰视效果、英雄时刻 | 营造崇高感或压迫感 |

### 生成视频

分镜创建完成后，即可开始生成最终的短视频。视频生成是将静态分镜图片转化为动态视频的过程。

**步骤1：进入视频生成页面**

在分镜管理页面，选中需要生成视频的分镜（可以多选），然后点击**生成视频**按钮。

**步骤2：配置生成参数**

在弹出的参数配置窗口中，设置以下选项：

| 参数项 | 说明 | 推荐值 |
|--------|------|--------|
| 视频分辨率 | 最终视频的清晰度 | 1080p（推荐） |
| 帧率 | 每秒帧数，影响流畅度 | 24fps或30fps |
| 视频时长 | 单个分镜的时长 | 3-5秒 |
| 运镜效果 | 镜头的运动方式 | 根据场景选择 |
| 过渡效果 | 分镜之间的切换方式 | 淡入淡出 |

**步骤3：开始生成**

确认参数设置后，点击**开始生成**按钮。视频生成是一个计算密集型的过程，耗时取决于分镜数量和选择的分辨率。一个5秒的短视频通常需要2-5分钟生成。

生成过程中，你可以：
- 切换到**任务列表**页面查看生成进度
- 取消正在进行的生成任务
- 预览已完成的视频片段

**步骤4：预览和导出**

所有分镜视频生成完成后，你可以：

1. **预览完整视频**：点击**预览**按钮，查看所有分镜拼接后的完整效果
2. **调整顺序**：拖拽分镜调整视频顺序
3. **导出视频**：点击**导出**按钮，将最终视频下载到本地
4. **分享**：生成分享链接，方便与他人分享你的作品

---

## 常见问题解答

### Q1：视频生成失败怎么办？

视频生成失败可能有多种原因，请按照以下步骤排查：

1. **检查AI服务配置**：确保API Key有效且未超出调用限额
2. **检查分镜内容**：确认分镜的描述文本不为空，且内容合理
3. **查看错误日志**：在任务详情页面查看具体的错误信息
4. **尝试重新生成**：某些临时性网络问题可能自行恢复

如果问题持续存在，请访问[故障排查文档](troubleshooting.md)获取详细的解决方案。

### Q2：AI生成的内容不满意如何调整？

AI生成的内容（如剧本、角色、分镜）都支持手动编辑和重新生成：

- **剧本调整**：直接编辑剧本文本，或修改提示词后重新生成
- **角色调整**：修改角色描述，或多次尝试直到满意
- **分镜调整**：手动编辑分镜描述，或重新生成特定分镜

建议在重新生成前，先尝试调整描述词，添加更多细节，这样能够获得更可控的生成结果。

### Q3：生成的视频文件保存在哪里？

默认情况下，生成的视频文件保存在本地`./data/storage/videos/`目录下。你可以在配置文件中修改存储路径。对于Docker部署，文件保存在容器的`/app/data/storage/videos/`目录，如果需要持久化保存，建议将宿主机的目录挂载到容器内。

---

## 进阶学习建议

完成本快速入门指南后，建议继续学习以下内容以充分发挥平台的全部能力：

1. **用户手册**：了解平台所有功能的详细使用说明
2. **API文档**：学习如何通过API集成平台能力
3. **架构设计**：深入理解系统的技术架构和设计原理

---

## 练习任务

### 练习1：创建第一个项目（⭐）

**任务目标**：独立完成一个简单短剧项目的创建和视频生成

**任务要求**：
- 创建一个名为"练习项目"的短剧项目
- 使用AI生成一个3-5句话的简单故事
- 创建2个角色（可以简单描述）
- 生成分镜并生成完整的视频

**验收标准**：
- [ ] 项目创建成功
- [ ] 剧本包含至少3个场景
- [ ] 角色创建成功并生成图像
- [ ] 至少生成1个分镜视频
- [ ] 导出最终视频文件

---

## 相关文档链接

| 文档名称 | 说明 | 难度 |
|----------|------|------|
| [用户手册](user-manual.md) | 平台功能的完整操作指南 | ⭐⭐ |
| [API接口文档](api-reference.md) | 开发者API参考手册 | ⭐⭐⭐ |
| [架构设计文档](architecture.md) | 系统架构深度解析 | ⭐⭐⭐⭐ |
| [部署运维指南](deployment.md) | 生产环境部署和运维指南 | ⭐⭐ |
| [故障排查文档](troubleshooting.md) | 常见问题和解决方案 | ⭐⭐ |
| [贡献指南](contributing.md) | 开发者贡献规范 | ⭐⭐⭐ |

---

## 版本信息

| 版本 | 日期 | 变更说明 |
|------|------|----------|
| v1.0.0 | 2026-02-05 | 初始版本，包含完整快速入门内容 |
